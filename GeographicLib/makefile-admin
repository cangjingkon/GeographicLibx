# $Id$ -*- Makefile -*-
include Makefile

USER=karney
STAGE=$(HOME)/web
D=GeographicLib
D1=geographic

distrib:
	rsync -av --delete index.html doc/html geodesic-papers $(STAGE)/$(D1)/
	rsync --exclude '*~' --exclude '#*' --delete --delete-excluded -av -e ssh $(STAGE)/$(D1)/ $(USER),geographiclib@web.sourceforge.net:htdocs/

distrib-files:
	rsync -av --delete distrib testdata geoids-distrib $(STAGE)/$(D1)-files/
	for d in distrib testdata geoids-distrib; do \
	  rsync --exclude '*~' --exclude '#*' -av -e ssh $(STAGE)/$(D1)-files/$$d $(USER),geographiclib@frs.sourceforge.net:/home/frs/project/g/ge/geographiclib/; \
	done

depend:
	makedepend -- $(CPPFLAGS) -- $(ALLSOURCES)

.PHONY: distrib distrib-files
