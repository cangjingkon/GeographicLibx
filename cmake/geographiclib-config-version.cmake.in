# $Id$

# Version checking for GeographicLib

set(PACKAGE_VERSION "@GeographicLib_VERSION@")
set(PACKAGE_VERSION_MAJOR "@GeographicLib_VERSION_MAJOR@")
set(PACKAGE_VERSION_MINOR "@GeographicLib_VERSION_MINOR@")

if (PACKAGE_FIND_VERSION)
  if (${PACKAGE_FIND_VERSION} VERSION_EQUAL ${PACKAGE_VERSION})
    # Versions match
    set (PACKAGE_VERSION_EXACT TRUE)
    set (PACKAGE_VERSION_COMPATIBLE TRUE)
  elseif (${PACKAGE_FIND_VERSION_MAJOR} EQUAL ${PACKAGE_VERSION_MAJOR})
    # Only major versions match
    set (PACKAGE_VERSION_EXACT FALSE)
    if (${PACKAGE_FIND_VERSION} VERSION_LESS ${PACKAGE_VERSION})
      # Backwards compatible
      set (PACKAGE_VERSION_COMPATIBLE TRUE)
    else (${PACKAGE_FIND_VERSION} VERSION_LESS ${PACKAGE_VERSION})
      # No forwards compatibility
      set (PACKAGE_VERSION_COMPATIBLE FALSE)
    endif (${PACKAGE_FIND_VERSION} VERSION_LESS ${PACKAGE_VERSION})
  else (${PACKAGE_FIND_VERSION} VERSION_EQUAL ${PACKAGE_VERSION})
    # No compatibility across major versions
    set (PACKAGE_VERSION_COMPATIBLE FALSE)
    set (PACKAGE_VERSION_EXACT FALSE)
  endif (${PACKAGE_FIND_VERSION} VERSION_EQUAL ${PACKAGE_VERSION})
else (PACKAGE_FIND_VERSION)
  # No version requested
  set (PACKAGE_VERSION_COMPATIBLE TRUE)
  set (PACKAGE_VERSION_EXACT FALSE)
endif (PACKAGE_FIND_VERSION)
